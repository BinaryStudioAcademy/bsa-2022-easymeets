<div class="container">
    <div class="schedule-container">
        <div class="schedule-select-container">
            <p>Schedule</p>
            <div class="input">
                <select [(ngModel)]="selectedTimeZone" (change)="changeTimeZone()" [disabled]="disabled">
                    <option *ngFor="let timeZone of timeZones"
                            [value]="timeZone.displayValue">{{timeZone.displayValue}}</option>
                </select>
            </div>
        </div>
        <mat-tab-group [disablePagination]="true" [disableRipple]="true" (selectedTabChange)="changeEvent.emit()"
                       animationDuration="0ms">
            <mat-tab label="List View">
                <app-schedule-list-item
                    *ngFor="let item of schedule.scheduleItems; index as i"
                    [disabled]="disabled"
                    [item]="schedule.scheduleItems[i]"
                    [itemChange]="changeEvent"
                    [displayDay]="displayDays[i]">
                </app-schedule-list-item>
            </mat-tab>
            <mat-tab label="Week View" *ngIf="!disabled">
                <app-schedule-week
                    [items]="schedule.scheduleItems"
                    [itemChange]="changeEvent">
                </app-schedule-week>
            </mat-tab>
            <mat-tab label="Month View" *ngIf="!disabled">
                Month View
            </mat-tab>
        </mat-tab-group>
    </div>
    <div class="override-container">
        Exclusion Dates
        <button
            mat-flat-button
            [disabled]="disabled"
            (click)="exclusionDatesService.show()"
        >
            + Add Exclusion Date(s)
        </button>
        <div class="exclusion-dates-container">
            <div *ngFor="let exclusionDate of schedule.exclusionDates; index as i">
                {{exclusionDate.selectedDate | date}}
                <div *ngFor="let dayTimeRange of exclusionDate.dayTimeRanges">
                    {{dayTimeRange.start}} {{dayTimeRange.end}}
                </div>
                <button (click)="deleteExclusionDate(i)">Delete</button>
            </div>
        </div>
    </div>
</div>
<app-exclusion-dates-picker (datesEmitter)="exclusionDatesFilled($event)"></app-exclusion-dates-picker>
